{"uid":"769bd6a7d0c95f44","name":"Test for Client Connect with 1 VLAN","fullName":"e2e.basic.validation_of_operating_modes.nat_mode.multi_psk.wpa2_security.test_multipsk_basic_wpa2.TestMultipskNAT#test_client_wpa2_2g_vlan1","historyId":"68045960606d4653637b8bd35f09363c","time":{"start":1685633365134,"stop":1685633735092,"duration":369958},"description":"\n                    To verify a client operating on NAT Mode Multipsk Test with wpa encryption 2.4 GHz Band is connecting or not.\n                    Unique Marker:pytest -m \"multi_psk_tests and NAT and wpa_personal and vlan1 and twog\"\n        ","descriptionHtml":"<pre><code>                To verify a client operating on NAT Mode Multipsk Test with wpa encryption 2.4 GHz Band is connecting or not.\n                Unique Marker:pytest -m &quot;multi_psk_tests and NAT and wpa_personal and vlan1 and twog&quot;\n</code></pre>\n","status":"failed","statusMessage":"Failed: Station did not get an ip","statusTrace":"self = <tests.e2e.basic.validation_of_operating_modes.nat_mode.multi_psk.wpa2_security.test_multipsk_basic_wpa2.TestMultipskNAT object at 0x7f78e3415150>\nget_test_library = <lanforge_scripts.lf_libs.lf_tests.lf_tests object at 0x7f78e1559850>\nget_dut_logs_per_test_case = None, get_test_device_logs = None, num_stations = 1\nsetup_configuration = {'0006ae6df0db': {'radio_data': {'2G': {'bandwidth': 40, 'channel': 6, 'frequency': 2447}, '5G': {'bandwidth': None, '...}}, 'ssid_data': {0: {'band': '2G', 'bssid': '00:06:AE:6D:F0:BA', 'encryption': 'wpa2', 'password': 'OpenWifi', ...}}}}\ncheck_connectivity = None\n\n>   ???\n\n/home/tip/Desktop/TIP Automation/automation/wlan-testing/tests/e2e/basic/validation_of_operating_modes/nat_mode/multi_psk/wpa2_security/test_multipsk_basic_wpa2.py:86: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/home/tip/.local/lib/python3.11/site-packages/lanforge_scripts/lf_libs/lf_tests.py:626: in multi_psk_test\n    sta_data[key] = self.client_connect(ssid=ssid, passkey=mpsk_data[key][\"passkey\"], security=encryption,\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <lanforge_scripts.lf_libs.lf_tests.lf_tests object at 0x7f78e1559850>, ssid = 'MDU-Wi-Fi-2g'\npasskey = 'OpenWifi1', security = 'wpa2', mode = 'NAT-WAN', band = 'twog', vlan_id = [None], num_sta = 1\nscan_ssid = True, sta_mode = 0, pre_cleanup = False, station_data = ['ip', 'alias', 'mac', 'port type']\nallure_attach = True, identifier = '0006ae6df0db', allure_name = 'station data', client_type = None\ndut_data = {'0006ae6df0db': {'radio_data': {'2G': {'bandwidth': 40, 'channel': 6, 'frequency': 2447}, '5G': {'bandwidth': None, '...}}, 'ssid_data': {0: {'band': '2G', 'bssid': '00:06:AE:6D:F0:BA', 'encryption': 'wpa2', 'password': 'OpenWifi', ...}}}}\n\n    def client_connect(self, ssid=\"[BLANK]\", passkey=\"[BLANK]\", security=\"wpa2\", mode=\"BRIDGE\", band=\"twog\",\n                       vlan_id=[None], num_sta=None, scan_ssid=True, sta_mode=0, pre_cleanup=True,\n                       station_data=[\"4way time (us)\", \"channel\", \"cx time (us)\", \"dhcp (ms)\", \"ip\", \"signal\"],\n                       allure_attach=True, identifier=None, allure_name=\"station data\", client_type=None, dut_data={}):\n        # pre cleanup\n        if pre_cleanup:\n            self.pre_cleanup()\n        self.check_band_ap(band=band)\n        if identifier is None:\n            identifier = self.dut_data[0][\"identifier\"]\n            logging.info(\"Identifier: \" + str(identifier))\n        else:\n            all_identifier_list = []\n            for dut in self.dut_data:\n                all_identifier_list.append(dut[\"identifier\"])\n            print(all_identifier_list)\n            if identifier not in all_identifier_list:\n                logging.error(\"Identifier is missing\")\n                pytest.fail(\"Identifier is missing\")\n        if self.run_lf:\n            dut_data = self.run_lf_dut_data()\n    \n        data = self.setup_interfaces(ssid=ssid, passkey=passkey, encryption=security,\n                                     band=band, vlan_id=vlan_id, mode=mode, num_sta=num_sta, dut_data_=dut_data)\n    \n        logging.info(\"Setup interface data:\\n\" + json.dumps(str(data), indent=2))\n        allure.attach(name=\"Interface Info: \\n\", body=json.dumps(str(data), indent=2),\n                      attachment_type=allure.attachment_type.JSON)\n        if data == {}:\n            pytest.skip(\"Skipping This Test\")\n        client_connect_obj = []\n        station_data_all = {}\n        for radio in data[identifier][\"station_data\"]:\n            if band == \"twog\":\n                if dict(dut_data.get(identifier)[\"radio_data\"]).keys().__contains__(\"2G\") and \\\n                        dict(dut_data.get(identifier)[\"radio_data\"])[\"2G\"] is not None:\n                    sniffer_channel = dict(dut_data.get(identifier)[\"radio_data\"])[\"2G\"][\"channel\"]\n                    if data[identifier][\"sniff_radio_2g\"] is not None and sniffer_channel is not None:\n                        self.start_sniffer(radio_channel=sniffer_channel, test_name=f'{data[identifier][\"station_data\"][radio][0]}',\n                                           radio=data[identifier][\"sniff_radio_2g\"],\n                                           duration=120)\n                    logging.info(\"started-sniffer\")\n            if band == \"fiveg\":\n                if dict(dut_data.get(identifier)[\"radio_data\"]).keys().__contains__(\"5G\") and \\\n                        dict(dut_data.get(identifier)[\"radio_data\"])[\"5G\"] is not None:\n                    sniffer_channel = dict(dut_data.get(identifier)[\"radio_data\"])[\"5G\"][\"channel\"]\n                    if data[identifier][\"sniff_radio_5g\"] is not None and sniffer_channel is not None:\n                        self.start_sniffer(radio_channel=sniffer_channel,\n                                           radio=data[identifier][\"sniff_radio_5g\"],\n                                           duration=120)\n                    logging.info(\"started-sniffer\")\n            if band == \"sixg\":\n                if dict(dut_data.get(identifier)[\"radio_data\"]).keys().__contains__(\"6G\") and \\\n                        dict(dut_data.get(identifier)[\"radio_data\"])[\"6G\"] is not None:\n                    sniffer_channel = self.lf_sixg_lookup_validation(int(dict(dut_data.get(identifier)[\"radio_data\"])[\"6G\"][\"channel\"]))\n                    logging.info(\"LF sixg channel: \" + str(sniffer_channel))\n                    if data[identifier][\"sniff_radio_6g\"] is not None and sniffer_channel is not None:\n                        self.start_sniffer(radio_channel=sniffer_channel,\n                                           radio=data[identifier][\"sniff_radio_6g\"],\n                                           duration=120)\n                    logging.info(\"started-sniffer\")\n            client_connect = CreateStation(_host=self.manager_ip, _port=self.manager_http_port,\n                                           _sta_list=data[identifier][\"station_data\"][radio],\n                                           _password=data[identifier][\"passkey\"],\n                                           _ssid=data[identifier][\"ssid\"],\n                                           _security=data[identifier][\"encryption\"])\n            client_connect.station_profile.sta_mode = sta_mode\n            client_connect.upstream_resource = data[identifier][\"upstream_resource\"]\n            client_connect.upstream_port = data[identifier][\"upstream\"]\n            client_connect.radio = radio\n            logging.info(\"scan ssid radio: \" + str(client_connect.radio))\n            if scan_ssid:\n                self.data_scan_ssid = self.scan_ssid(radio=client_connect.radio, ssid=ssid)\n            logging.info(\"ssid scan data: \" + str(self.data_scan_ssid))\n            client_connect_obj.append(client_connect)\n        pass_fail = []\n        for obj in client_connect_obj:\n            obj.build()\n            result = obj.wait_for_ip(station_list=obj.sta_list, timeout_sec=240)\n            pass_fail.append(result)\n            station_data_ = self.get_station_data(sta_name=obj.sta_list, rows=station_data,\n                                                  allure_attach=False)\n            station_data_all.update(station_data_)\n            sta_table_dict = {}\n            sta_table_dict[\"station name\"] = list(station_data_.keys())\n            for i in station_data:\n                temp_list = []\n                for j in obj.sta_list:\n                    temp_list.append(station_data_[j][i])\n                sta_table_dict[i] = temp_list\n            # pass fail\n            pass_fail_sta = []\n            for i in sta_table_dict[\"ip\"]:\n                if i == \"0.0.0.0\":\n                    pass_fail_sta.append(\"Fail\")\n                else:\n                    pass_fail_sta.append(\"Pass\")\n            sta_table_dict[\"Pass/Fail\"] = pass_fail_sta\n            if allure_attach:\n                self.attach_table_allure(data=sta_table_dict, allure_name=allure_name)\n    \n        # stop sniffer if active\n        logging.info(msg=str(\"Cleaning up sniffer interface If available on PORT Manager\"))\n        port_data = self.json_get(_req_url=\"/port?fields=alias,parent+dev,port+type,ip,mac\")['interfaces']\n        # for i in port_data:\n        #     for item in i:\n        #         if i[item]['port type'] == '802.1Q VLAN' and i[item]['ip'] == '0.0.0.0':\n        #             logging.info('VLAN do not have IP')\n        if self.start_sniffer:\n            self.stop_sniffer()\n    \n        logging.info(\"pass_fail result: \" + str(pass_fail))\n        if False in pass_fail:\n            logging.info(\"Station did not get an ip\")\n            for radio in data[identifier][\"station_data\"]:\n                self.get_supplicant_logs(radio=str(radio))\n>           pytest.fail(\"Station did not get an ip\")\nE           Failed: Station did not get an ip\n\n/home/tip/.local/lib/python3.11/site-packages/lanforge_scripts/lf_libs/lf_tests.py:829: Failed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"selected_testbed","time":{"start":1685626223471,"stop":1685626223471,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"get_target_object","time":{"start":1685626223471,"stop":1685626229954,"duration":6483},"status":"passed","steps":[],"attachments":[{"uid":"c98b46b411996a","name":"Sending Command:","source":"c98b46b411996a.attach","type":"text/plain","size":331},{"uid":"45b487c9e0ff8e22","name":"Command Response: ","source":"45b487c9e0ff8e22.attach","type":"text/plain","size":675},{"uid":"26cf34ecf20594f7","name":"Sending Command:","source":"26cf34ecf20594f7.attach","type":"text/plain","size":339},{"uid":"490524ec5f637cea","name":"Command Response: ","source":"490524ec5f637cea.attach","type":"text/plain","size":1410},{"uid":"520c747561cc8c3d","name":"Sending Command:","source":"520c747561cc8c3d.attach","type":"text/plain","size":343},{"uid":"fdb59db7d4a22137","name":"Command Response: ","source":"fdb59db7d4a22137.attach","type":"text/plain","size":679},{"uid":"ea50205a5f479b0b","name":"Sending Command:","source":"ea50205a5f479b0b.attach","type":"text/plain","size":342},{"uid":"a4f4fcf6fac104a6","name":"Command Response: ","source":"a4f4fcf6fac104a6.attach","type":"text/plain","size":797},{"uid":"4342fcf6412328c2","name":"Sending Command:","source":"4342fcf6412328c2.attach","type":"text/plain","size":343},{"uid":"14ad323ac2b8d9c1","name":"Command Response: ","source":"14ad323ac2b8d9c1.attach","type":"text/plain","size":679},{"uid":"7581adb6f42ac293","name":"Sending Command:","source":"7581adb6f42ac293.attach","type":"text/plain","size":344},{"uid":"3f667aff858ca733","name":"Command Response: ","source":"3f667aff858ca733.attach","type":"text/plain","size":681}],"parameters":[],"stepsCount":0,"attachmentsCount":12,"shouldDisplayMessage":false,"hasContent":true},{"name":"add_allure_environment_property","time":{"start":1685626223471,"stop":1685626223471,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"get_testbed_details","time":{"start":1685626223471,"stop":1685626223471,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"397cc7e730bb21b","name":"Testbed Details","source":"397cc7e730bb21b.json","type":"application/json","size":2480}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"run_lf","time":{"start":1685626223471,"stop":1685626223471,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"device","time":{"start":1685626709783,"stop":1685626709783,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"is_test_library_perfecto_ios","time":{"start":1685626709783,"stop":1685626709783,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"get_test_library","time":{"start":1685626709783,"stop":1685626733878,"duration":24095},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"is_test_library_perfecto_android","time":{"start":1685626709783,"stop":1685626709783,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"get_device_configuration","time":{"start":1685626709783,"stop":1685626709783,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"get_security_flags","time":{"start":1685626733878,"stop":1685626733878,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"num_stations","time":{"start":1685626733878,"stop":1685626733878,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"get_markers","time":{"start":1685626733878,"stop":1685626733886,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"skip_lf","time":{"start":1685626733887,"stop":1685626733887,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"setup_configuration","time":{"start":1685633240777,"stop":1685633364781,"duration":124004},"status":"passed","steps":[],"attachments":[{"uid":"346475f468844a3f","name":"ubus call ucentral status","source":"346475f468844a3f.json","type":"application/json","size":106},{"uid":"6cfe7f63ccba4dc9","name":"wifi_status_before_apply: ","source":"6cfe7f63ccba4dc9.attach","type":"text/plain","size":7742},{"uid":"589266d2be08f152","name":"AP Log Before config push: ","source":"589266d2be08f152.attach","type":"text/plain","size":72153},{"uid":"c6b641979a29cd3","name":"Sending Command:","source":"c6b641979a29cd3.attach","type":"text/plain","size":1864},{"uid":"450684310a9d4549","name":"Command Response: ","source":"450684310a9d4549.attach","type":"text/plain","size":2657},{"uid":"2584b6b98a5e0ec5","name":"ubus call ucentral status","source":"2584b6b98a5e0ec5.json","type":"application/json","size":106},{"uid":"42faec1fbe22a6d7","name":"cat /etc/ucentral/ucentral.cfg.1685633254","source":"42faec1fbe22a6d7.json","type":"application/json","size":2540},{"uid":"6041afbec4e39791","name":"ubus call ucentral status","source":"6041afbec4e39791.json","type":"application/json","size":106},{"uid":"95c5e97aa267911e","name":"cat /etc/ucentral/ucentral.cfg.1685633254","source":"95c5e97aa267911e.json","type":"application/json","size":2540},{"uid":"1956a7e0e71083ab","name":"ubus call ucentral status","source":"1956a7e0e71083ab.json","type":"application/json","size":106},{"uid":"d008324766eb9893","name":"/etc/init.d/maverick status","source":"d008324766eb9893.txt","type":"text/plain","size":60},{"uid":"e0358be87a9ba16","name":"ifconfig up0v0","source":"e0358be87a9ba16.txt","type":"text/plain","size":525},{"uid":"ab505d4505310f4f","name":"ip neigh show dev up0v0 REACHABLE","source":"ab505d4505310f4f.txt","type":"text/plain","size":113},{"uid":"67923a532e69db6f","name":"wifi_status_after_apply: ","source":"67923a532e69db6f.attach","type":"text/plain","size":2728},{"uid":"b525968f9b8733bf","name":"Logs - 0006ae6df0db","source":"b525968f9b8733bf.attach","type":"text/plain","size":23572},{"uid":"d1d48dd59c179b0a","name":"iwinfo","source":"d1d48dd59c179b0a.txt","type":"text/plain","size":564}],"parameters":[],"stepsCount":0,"attachmentsCount":16,"shouldDisplayMessage":false,"hasContent":true},{"name":"get_dut_logs_per_test_case","time":{"start":1685633364781,"stop":1685633365133,"duration":352},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"get_test_device_logs","time":{"start":1685633365133,"stop":1685633365133,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"check_connectivity","time":{"start":1685633365133,"stop":1685633365133,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"testStage":{"description":"\n                    To verify a client operating on NAT Mode Multipsk Test with wpa encryption 2.4 GHz Band is connecting or not.\n                    Unique Marker:pytest -m \"multi_psk_tests and NAT and wpa_personal and vlan1 and twog\"\n        ","status":"failed","statusMessage":"Failed: Station did not get an ip","statusTrace":"self = <tests.e2e.basic.validation_of_operating_modes.nat_mode.multi_psk.wpa2_security.test_multipsk_basic_wpa2.TestMultipskNAT object at 0x7f78e3415150>\nget_test_library = <lanforge_scripts.lf_libs.lf_tests.lf_tests object at 0x7f78e1559850>\nget_dut_logs_per_test_case = None, get_test_device_logs = None, num_stations = 1\nsetup_configuration = {'0006ae6df0db': {'radio_data': {'2G': {'bandwidth': 40, 'channel': 6, 'frequency': 2447}, '5G': {'bandwidth': None, '...}}, 'ssid_data': {0: {'band': '2G', 'bssid': '00:06:AE:6D:F0:BA', 'encryption': 'wpa2', 'password': 'OpenWifi', ...}}}}\ncheck_connectivity = None\n\n>   ???\n\n/home/tip/Desktop/TIP Automation/automation/wlan-testing/tests/e2e/basic/validation_of_operating_modes/nat_mode/multi_psk/wpa2_security/test_multipsk_basic_wpa2.py:86: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/home/tip/.local/lib/python3.11/site-packages/lanforge_scripts/lf_libs/lf_tests.py:626: in multi_psk_test\n    sta_data[key] = self.client_connect(ssid=ssid, passkey=mpsk_data[key][\"passkey\"], security=encryption,\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <lanforge_scripts.lf_libs.lf_tests.lf_tests object at 0x7f78e1559850>, ssid = 'MDU-Wi-Fi-2g'\npasskey = 'OpenWifi1', security = 'wpa2', mode = 'NAT-WAN', band = 'twog', vlan_id = [None], num_sta = 1\nscan_ssid = True, sta_mode = 0, pre_cleanup = False, station_data = ['ip', 'alias', 'mac', 'port type']\nallure_attach = True, identifier = '0006ae6df0db', allure_name = 'station data', client_type = None\ndut_data = {'0006ae6df0db': {'radio_data': {'2G': {'bandwidth': 40, 'channel': 6, 'frequency': 2447}, '5G': {'bandwidth': None, '...}}, 'ssid_data': {0: {'band': '2G', 'bssid': '00:06:AE:6D:F0:BA', 'encryption': 'wpa2', 'password': 'OpenWifi', ...}}}}\n\n    def client_connect(self, ssid=\"[BLANK]\", passkey=\"[BLANK]\", security=\"wpa2\", mode=\"BRIDGE\", band=\"twog\",\n                       vlan_id=[None], num_sta=None, scan_ssid=True, sta_mode=0, pre_cleanup=True,\n                       station_data=[\"4way time (us)\", \"channel\", \"cx time (us)\", \"dhcp (ms)\", \"ip\", \"signal\"],\n                       allure_attach=True, identifier=None, allure_name=\"station data\", client_type=None, dut_data={}):\n        # pre cleanup\n        if pre_cleanup:\n            self.pre_cleanup()\n        self.check_band_ap(band=band)\n        if identifier is None:\n            identifier = self.dut_data[0][\"identifier\"]\n            logging.info(\"Identifier: \" + str(identifier))\n        else:\n            all_identifier_list = []\n            for dut in self.dut_data:\n                all_identifier_list.append(dut[\"identifier\"])\n            print(all_identifier_list)\n            if identifier not in all_identifier_list:\n                logging.error(\"Identifier is missing\")\n                pytest.fail(\"Identifier is missing\")\n        if self.run_lf:\n            dut_data = self.run_lf_dut_data()\n    \n        data = self.setup_interfaces(ssid=ssid, passkey=passkey, encryption=security,\n                                     band=band, vlan_id=vlan_id, mode=mode, num_sta=num_sta, dut_data_=dut_data)\n    \n        logging.info(\"Setup interface data:\\n\" + json.dumps(str(data), indent=2))\n        allure.attach(name=\"Interface Info: \\n\", body=json.dumps(str(data), indent=2),\n                      attachment_type=allure.attachment_type.JSON)\n        if data == {}:\n            pytest.skip(\"Skipping This Test\")\n        client_connect_obj = []\n        station_data_all = {}\n        for radio in data[identifier][\"station_data\"]:\n            if band == \"twog\":\n                if dict(dut_data.get(identifier)[\"radio_data\"]).keys().__contains__(\"2G\") and \\\n                        dict(dut_data.get(identifier)[\"radio_data\"])[\"2G\"] is not None:\n                    sniffer_channel = dict(dut_data.get(identifier)[\"radio_data\"])[\"2G\"][\"channel\"]\n                    if data[identifier][\"sniff_radio_2g\"] is not None and sniffer_channel is not None:\n                        self.start_sniffer(radio_channel=sniffer_channel, test_name=f'{data[identifier][\"station_data\"][radio][0]}',\n                                           radio=data[identifier][\"sniff_radio_2g\"],\n                                           duration=120)\n                    logging.info(\"started-sniffer\")\n            if band == \"fiveg\":\n                if dict(dut_data.get(identifier)[\"radio_data\"]).keys().__contains__(\"5G\") and \\\n                        dict(dut_data.get(identifier)[\"radio_data\"])[\"5G\"] is not None:\n                    sniffer_channel = dict(dut_data.get(identifier)[\"radio_data\"])[\"5G\"][\"channel\"]\n                    if data[identifier][\"sniff_radio_5g\"] is not None and sniffer_channel is not None:\n                        self.start_sniffer(radio_channel=sniffer_channel,\n                                           radio=data[identifier][\"sniff_radio_5g\"],\n                                           duration=120)\n                    logging.info(\"started-sniffer\")\n            if band == \"sixg\":\n                if dict(dut_data.get(identifier)[\"radio_data\"]).keys().__contains__(\"6G\") and \\\n                        dict(dut_data.get(identifier)[\"radio_data\"])[\"6G\"] is not None:\n                    sniffer_channel = self.lf_sixg_lookup_validation(int(dict(dut_data.get(identifier)[\"radio_data\"])[\"6G\"][\"channel\"]))\n                    logging.info(\"LF sixg channel: \" + str(sniffer_channel))\n                    if data[identifier][\"sniff_radio_6g\"] is not None and sniffer_channel is not None:\n                        self.start_sniffer(radio_channel=sniffer_channel,\n                                           radio=data[identifier][\"sniff_radio_6g\"],\n                                           duration=120)\n                    logging.info(\"started-sniffer\")\n            client_connect = CreateStation(_host=self.manager_ip, _port=self.manager_http_port,\n                                           _sta_list=data[identifier][\"station_data\"][radio],\n                                           _password=data[identifier][\"passkey\"],\n                                           _ssid=data[identifier][\"ssid\"],\n                                           _security=data[identifier][\"encryption\"])\n            client_connect.station_profile.sta_mode = sta_mode\n            client_connect.upstream_resource = data[identifier][\"upstream_resource\"]\n            client_connect.upstream_port = data[identifier][\"upstream\"]\n            client_connect.radio = radio\n            logging.info(\"scan ssid radio: \" + str(client_connect.radio))\n            if scan_ssid:\n                self.data_scan_ssid = self.scan_ssid(radio=client_connect.radio, ssid=ssid)\n            logging.info(\"ssid scan data: \" + str(self.data_scan_ssid))\n            client_connect_obj.append(client_connect)\n        pass_fail = []\n        for obj in client_connect_obj:\n            obj.build()\n            result = obj.wait_for_ip(station_list=obj.sta_list, timeout_sec=240)\n            pass_fail.append(result)\n            station_data_ = self.get_station_data(sta_name=obj.sta_list, rows=station_data,\n                                                  allure_attach=False)\n            station_data_all.update(station_data_)\n            sta_table_dict = {}\n            sta_table_dict[\"station name\"] = list(station_data_.keys())\n            for i in station_data:\n                temp_list = []\n                for j in obj.sta_list:\n                    temp_list.append(station_data_[j][i])\n                sta_table_dict[i] = temp_list\n            # pass fail\n            pass_fail_sta = []\n            for i in sta_table_dict[\"ip\"]:\n                if i == \"0.0.0.0\":\n                    pass_fail_sta.append(\"Fail\")\n                else:\n                    pass_fail_sta.append(\"Pass\")\n            sta_table_dict[\"Pass/Fail\"] = pass_fail_sta\n            if allure_attach:\n                self.attach_table_allure(data=sta_table_dict, allure_name=allure_name)\n    \n        # stop sniffer if active\n        logging.info(msg=str(\"Cleaning up sniffer interface If available on PORT Manager\"))\n        port_data = self.json_get(_req_url=\"/port?fields=alias,parent+dev,port+type,ip,mac\")['interfaces']\n        # for i in port_data:\n        #     for item in i:\n        #         if i[item]['port type'] == '802.1Q VLAN' and i[item]['ip'] == '0.0.0.0':\n        #             logging.info('VLAN do not have IP')\n        if self.start_sniffer:\n            self.stop_sniffer()\n    \n        logging.info(\"pass_fail result: \" + str(pass_fail))\n        if False in pass_fail:\n            logging.info(\"Station did not get an ip\")\n            for radio in data[identifier][\"station_data\"]:\n                self.get_supplicant_logs(radio=str(radio))\n>           pytest.fail(\"Station did not get an ip\")\nE           Failed: Station did not get an ip\n\n/home/tip/.local/lib/python3.11/site-packages/lanforge_scripts/lf_libs/lf_tests.py:829: Failed","steps":[],"attachments":[{"uid":"73169482c7d3b661","name":"VLAN Table","source":"73169482c7d3b661.attach","type":"text/plain","size":331},{"uid":"f80fb867f4ba6e7f","name":"Interface Info: \n","source":"f80fb867f4ba6e7f.json","type":"application/json","size":352},{"uid":"17874e3cb762121f","name":"scan_ssid_data","source":"17874e3cb762121f.attach","type":"text/plain","size":39249},{"uid":"6659f850dd1c5d45","name":"station data","source":"6659f850dd1c5d45.attach","type":"text/plain","size":1099},{"uid":"3fdc47b295b8c8a8","name":"pcap_file","source":"3fdc47b295b8c8a8.pcap","type":"application/vnd.tcpdump.pcap","size":3282096},{"uid":"e9c1ec65098c1adb","name":"wpa_supplicant_log - wiphy0","source":"e9c1ec65098c1adb.attach","type":"text/plain","size":605441},{"uid":"6d4631e950f7f777","name":"Interface Info: \n","source":"6d4631e950f7f777.json","type":"application/json","size":353},{"uid":"35ec83bc8fdb0c16","name":"scan_ssid_data","source":"35ec83bc8fdb0c16.attach","type":"text/plain","size":45369},{"uid":"96bbaa3bd562f135","name":"station data","source":"96bbaa3bd562f135.attach","type":"text/plain","size":1033},{"uid":"81eb73aa47b34c27","name":"pcap_file","source":"81eb73aa47b34c27.pcap","type":"application/vnd.tcpdump.pcap","size":9241376},{"uid":"5efcff1f54b2f21b","name":"wpa_supplicant_log - wiphy0","source":"5efcff1f54b2f21b.attach","type":"text/plain","size":1168608},{"uid":"70b17b8b8e85eba","name":"log","source":"70b17b8b8e85eba.txt","type":"text/plain","size":104982}],"parameters":[],"stepsCount":0,"attachmentsCount":12,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[{"name":"check_connectivity::collect_logs","time":{"start":1685633735145,"stop":1685633735505,"duration":360},"status":"passed","steps":[],"attachments":[{"uid":"c68d6a8b706a0a5c","name":"ubus call ucentral status","source":"c68d6a8b706a0a5c.json","type":"application/json","size":106},{"uid":"ab2271ff62775543","name":"Device : 0006ae6df0db is connected after Test","source":"ab2271ff62775543.attach","type":"application/octet-stream","size":0}],"parameters":[],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},{"name":"get_test_device_logs::collect_logs_tg","time":{"start":1685633735506,"stop":1685633735912,"duration":406},"status":"passed","steps":[],"attachments":[{"uid":"576a5cfc7e92a4dc","name":"lanforge_log_0","source":"576a5cfc7e92a4dc.attach","type":"text/plain","size":1513906},{"uid":"13ec1467d47c238","name":"lanforge_log_1","source":"13ec1467d47c238.attach","type":"text/plain","size":3346458}],"parameters":[],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},{"name":"get_dut_logs_per_test_case::collect_logs","time":{"start":1685633735913,"stop":1685633742966,"duration":7053},"status":"passed","steps":[],"attachments":[{"uid":"7f55e8b8126fc940","name":"Logs - 0006ae6df0db","source":"7f55e8b8126fc940.attach","type":"text/plain","size":14999}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"setup_configuration::0","time":{"start":1685633942538,"stop":1685633942538,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"skip_lf::0","time":{"start":1685638983018,"stop":1685638983018,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"get_target_object::1","time":{"start":1685638983021,"stop":1685638983022,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"get_target_object::teardown_target","time":{"start":1685638983022,"stop":1685638984048,"duration":1026},"status":"passed","steps":[],"attachments":[{"uid":"fb456006dba5e159","name":"Sending Command:","source":"fb456006dba5e159.attach","type":"text/plain","size":395}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"get_markers::0","time":{"start":1685638984050,"stop":1685638984050,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"get_security_flags::0","time":{"start":1685638984051,"stop":1685638984051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"num_stations::0","time":{"start":1685638984051,"stop":1685638984051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"get_test_library::1","time":{"start":1685638984052,"stop":1685638984052,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"get_test_library::teardown_test","time":{"start":1685638984052,"stop":1685638984052,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"run_lf::0","time":{"start":1685638984058,"stop":1685638984058,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"get_device_configuration::0","time":{"start":1685638984059,"stop":1685638984059,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"device::0","time":{"start":1685638984062,"stop":1685638984062,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"is_test_library_perfecto_ios::0","time":{"start":1685638984063,"stop":1685638984063,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"is_test_library_perfecto_android::0","time":{"start":1685638984064,"stop":1685638984064,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"get_testbed_details::0","time":{"start":1685638984070,"stop":1685638984070,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"selected_testbed::0","time":{"start":1685638984072,"stop":1685638984072,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"add_allure_environment_property::0","time":{"start":1685638984074,"stop":1685638984074,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"subSuite","value":"WPA2 Security"},{"name":"parentSuite","value":"MultiPsk Test"},{"name":"suite","value":"NAT Mode"},{"name":"feature","value":"MultiPsk Test"},{"name":"tag","value":"ow_sanity_lf"},{"name":"tag","value":"vlan1"},{"name":"tag","value":"@pytest.mark.usefixtures('setup_configuration')"},{"name":"tag","value":"multi_psk_tests"},{"name":"tag","value":"nat"},{"name":"tag","value":"wpa2_personal"},{"name":"tag","value":"twog"},{"name":"tag","value":"ow_regression_lf"},{"name":"host","value":"TIP"},{"name":"thread","value":"26370-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"e2e.basic.validation_of_operating_modes.nat_mode.multi_psk.wpa2_security.test_multipsk_basic_wpa2"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"setup_configuration","value":"{'mode': 'NAT', 'ssid_modes': {'wpa2_personal': [{'ssid_name': 'MDU-Wi-Fi-2g', 'appliedRadios': ['2G'], 'security': 'psk2', 'security_key': 'OpenWifi', 'multi-psk': [{'key': 'OpenWifi1', 'vlan-id': 100}, {'key': 'OpenWifi2', 'vlan-id': 200}]}]}, 'rf': {}, 'radius': False}"}],"links":[{"name":"WIFI-3495","url":"https://telecominfraproject.atlassian.net/browse/WIFI-3495","type":"tms"}],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":["nat","@pytest.mark.usefixtures('setup_configuration')","ow_regression_lf","ow_sanity_lf","multi_psk_tests","wpa2_personal","twog","vlan1"]},"source":"769bd6a7d0c95f44.json","parameterValues":["{'mode': 'NAT', 'ssid_modes': {'wpa2_personal': [{'ssid_name': 'MDU-Wi-Fi-2g', 'appliedRadios': ['2G'], 'security': 'psk2', 'security_key': 'OpenWifi', 'multi-psk': [{'key': 'OpenWifi1', 'vlan-id': 100}, {'key': 'OpenWifi2', 'vlan-id': 200}]}]}, 'rf': {}, 'radius': False}"]}